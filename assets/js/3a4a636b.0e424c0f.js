"use strict";(self.webpackChunkwasmbox_docs=self.webpackChunkwasmbox_docs||[]).push([[3286],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>f});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=i.createContext({}),u=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return i.createElement(c.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(n),d=o,f=p["".concat(c,".").concat(d)]||p[d]||m[d]||r;return n?i.createElement(f,a(a({ref:t},l),{},{components:n})):i.createElement(f,a({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var u=2;u<r;u++)a[u]=n[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},764:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var i=n(7462),o=(n(7294),n(3905));const r={title:"Limiting Execution Time",sidebar_position:4},a=void 0,s={unversionedId:"basics/limiting_execution/index",id:"basics/limiting_execution/index",title:"Limiting Execution Time",description:"When executing WASM code it is sometimes useful to set a limit on how long it can run for. This can be used to prevent malicious or buggy code from running forever and slowing down your application. Wasmbox includes two mechanisms to do this, Fuel Usage and Epoch Interruption.",source:"@site/docs/basics/limiting_execution/index.md",sourceDirName:"basics/limiting_execution",slug:"/basics/limiting_execution/",permalink:"/wasmbox/basics/limiting_execution/",draft:!1,editUrl:"https://github.com/Placeholder-Software/Wasmbox/tree/master/docs/basics/limiting_execution/index.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Limiting Execution Time",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"WASI",permalink:"/wasmbox/basics/wasi"},next:{title:"Fuel Usage",permalink:"/wasmbox/basics/limiting_execution/fuelusage"}},c={},u=[{value:"Fuel Usage",id:"fuel-usage",level:2},{value:"Epoch Interruption",id:"epoch-interruption",level:2}],l={toc:u};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"When executing WASM code it is sometimes useful to set a limit on how long it can run for. This can be used to prevent malicious or buggy code from running forever and slowing down your application. Wasmbox includes two mechanisms to do this, ",(0,o.kt)("a",{parentName:"p",href:"/wasmbox/basics/limiting_execution/fuelusage"},"Fuel Usage")," and ",(0,o.kt)("a",{parentName:"p",href:"/wasmbox/basics/limiting_execution/epochinterruption"},"Epoch Interruption"),"."),(0,o.kt)("h2",{id:"fuel-usage"},"Fuel Usage"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/wasmbox/basics/limiting_execution/fuelusage"},"Fuel Usage"),' adds a "fuel" cost to every single instruction which is executed, as soon as there is no more fuel available execution will terminate. Fuel usage is easy to use and allows very precise control over ',(0,o.kt)("em",{parentName:"p"},"exactly")," how much code can execute before termination."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Fuel execution is more precise than epochs, but is slower to execute.")),(0,o.kt)("h2",{id:"epoch-interruption"},"Epoch Interruption"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/wasmbox/basics/limiting_execution/epochinterruption"},"Epoch interruption")," allows a deadline to be set, once that deadline has passed code will immediately terminate execution."),(0,o.kt)("p",null,"Epochs are ",(0,o.kt)("strong",{parentName:"p"},"not")," automatically incremented, your own code must be increasing the epoch when you wish to indicate that time has passed. This allows you to make epochs as small (e.g. every frame) or as large (e.g. every chapter of a story) as you like."),(0,o.kt)("p",null,"Because epochs are not automatically incremented your WASM code must be running in another thread, such as a ",(0,o.kt)("a",{parentName:"p",href:"/wasmbox/basics/jobs"},"Job"),", so that your code running on the main thread can increment the epoch."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Epoch Interruption is faster than fuel usage, but is more difficult to use (requires jobs).")))}p.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkwasmbox_docs=self.webpackChunkwasmbox_docs||[]).push([[5872],{3905:(e,r,t)=>{t.d(r,{Zo:()=>f,kt:()=>m});var o=t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function n(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function i(e,r){if(null==e)return{};var t,o,a=function(e,r){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=o.createContext({}),s=function(e){var r=o.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):n(n({},r),e)),t},f=function(e){var r=s(e.components);return o.createElement(c.Provider,{value:r},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},p=o.forwardRef((function(e,r){var t=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,f=i(e,["components","mdxType","originalType","parentName"]),d=s(t),p=a,m=d["".concat(c,".").concat(p)]||d[p]||u[p]||l;return t?o.createElement(m,n(n({ref:r},f),{},{components:t})):o.createElement(m,n({ref:r},f))}));function m(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var l=t.length,n=new Array(l);n[0]=p;var i={};for(var c in r)hasOwnProperty.call(r,c)&&(i[c]=r[c]);i.originalType=e,i[d]="string"==typeof e?e:a,n[1]=i;for(var s=2;s<l;s++)n[s]=t[s];return o.createElement.apply(null,n)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},5695:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>n,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var o=t(7462),a=(t(7294),t(3905));const l={title:"Socket"},n=void 0,i={unversionedId:"reference/code/WASI/socket",id:"reference/code/WASI/socket",title:"Socket",description:"The WASI socket interfaces allows WebAssembly code to interact with the network.",source:"@site/docs/reference/code/WASI/socket.md",sourceDirName:"reference/code/WASI",slug:"/reference/code/WASI/socket",permalink:"/wasmbox/reference/code/WASI/socket",draft:!1,editUrl:"https://github.com/Placeholder-Software/Wasmbox/tree/master/docs/reference/code/WASI/socket.md",tags:[],version:"current",frontMatter:{title:"Socket"},sidebar:"tutorialSidebar",previous:{title:"Random",permalink:"/wasmbox/reference/code/WASI/random"},next:{title:"Wasmtime",permalink:"/wasmbox/category/wasmtime"}},c={},s=[{value:"NonFunctionalSocket",id:"nonfunctionalsocket",level:2},{value:"IVirtualSocket",id:"ivirtualsocket",level:2},{value:"<code>WasiError Accept(Caller caller, FileDescriptor fd, FdFlags flags)</code>",id:"wasierror-acceptcaller-caller-filedescriptor-fd-fdflags-flags",level:4},{value:"<code>WasiError Receive(Caller caller, FileDescriptor fd, Buffer&lt;Buffer&lt;byte&gt;&gt; riData, RiFlags riFlags, Pointer&lt;byte&gt; roDataPtr, Pointer&lt;RoFlags&gt; roFlagsOut);</code>",id:"wasierror-receivecaller-caller-filedescriptor-fd-bufferbufferbyte-ridata-riflags-riflags-pointerbyte-rodataptr-pointerroflags-roflagsout",level:4},{value:"<code>WasiError Send(Caller caller, FileDescriptor fd, Buffer&lt;Buffer&lt;byte&gt;&gt; siData, SiFlags siFlags, out int sentBytes);</code>",id:"wasierror-sendcaller-caller-filedescriptor-fd-bufferbufferbyte-sidata-siflags-siflags-out-int-sentbytes",level:4},{value:"<code>WasiError Shutdown(Caller caller, FileDescriptor fd, SdFlags how);</code>",id:"wasierror-shutdowncaller-caller-filedescriptor-fd-sdflags-how",level:4},{value:"<code>void Register(Linker linker)</code>",id:"void-registerlinker-linker",level:4}],f={toc:s};function d(e){let{components:r,...t}=e;return(0,a.kt)("wrapper",(0,o.Z)({},f,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The WASI socket interfaces allows WebAssembly code to interact with the network."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Wasmbox does not currently implement the WASI socket interface.")),(0,a.kt)("h2",{id:"nonfunctionalsocket"},"NonFunctionalSocket"),(0,a.kt)("p",null,"Does not do anything and will return an error code to WASM code which calls it (as if no network connection is available). This can be used when loading WASM files which requires the socket imports, but do not actually use them at runtime."),(0,a.kt)("h2",{id:"ivirtualsocket"},"IVirtualSocket"),(0,a.kt)("p",null,"The base interface for all WASI socket implementations. If the default implementation does not fit your use-case custom implementations can be built using this interface."),(0,a.kt)("h4",{id:"wasierror-acceptcaller-caller-filedescriptor-fd-fdflags-flags"},(0,a.kt)("inlineCode",{parentName:"h4"},"WasiError Accept(Caller caller, FileDescriptor fd, FdFlags flags)")),(0,a.kt)("p",null,"Accept a new incoming connection request."),(0,a.kt)("h4",{id:"wasierror-receivecaller-caller-filedescriptor-fd-bufferbufferbyte-ridata-riflags-riflags-pointerbyte-rodataptr-pointerroflags-roflagsout"},(0,a.kt)("inlineCode",{parentName:"h4"},"WasiError Receive(Caller caller, FileDescriptor fd, Buffer<Buffer<byte>> riData, RiFlags riFlags, Pointer<byte> roDataPtr, Pointer<RoFlags> roFlagsOut);")),(0,a.kt)("p",null,"Receive a message from a socket."),(0,a.kt)("h4",{id:"wasierror-sendcaller-caller-filedescriptor-fd-bufferbufferbyte-sidata-siflags-siflags-out-int-sentbytes"},(0,a.kt)("inlineCode",{parentName:"h4"},"WasiError Send(Caller caller, FileDescriptor fd, Buffer<Buffer<byte>> siData, SiFlags siFlags, out int sentBytes);")),(0,a.kt)("p",null,"Send a message on a socket."),(0,a.kt)("h4",{id:"wasierror-shutdowncaller-caller-filedescriptor-fd-sdflags-how"},(0,a.kt)("inlineCode",{parentName:"h4"},"WasiError Shutdown(Caller caller, FileDescriptor fd, SdFlags how);")),(0,a.kt)("p",null,"Shut down socket send and/or receive channels."),(0,a.kt)("h4",{id:"void-registerlinker-linker"},(0,a.kt)("inlineCode",{parentName:"h4"},"void Register(Linker linker)")),(0,a.kt)("p",null,"Add all functions of this implementation to the ",(0,a.kt)("a",{parentName:"p",href:"/wasmbox/reference/code/wasmtime/linker"},"Linker"),". This can usually be implemented as a direct call to ",(0,a.kt)("inlineCode",{parentName:"p"},"linker.Register(this);"),"."))}d.isMDXComponent=!0}}]);